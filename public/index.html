<!DOCTYPE HTML>

<html>
    <head>
        <link rel="icon" href="/img/main/favicon.png" type="image/png" />
        <link rel="shortcut icon" href="/favicon.ico" />
        
            
                <title>IEvangelist</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.15" />
        


        
        
            
                <meta name="description" content="Powered by &lt;a href=&#39;http://gohugo.io/&#39;&gt;Hugo&lt;/a&gt;">
            
        

        
        <meta property="og:title" content="IEvangelist" />
<meta property="og:description" content="Powered by &lt;a href=&#39;http://gohugo.io/&#39;&gt;Hugo&lt;/a&gt;" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://davidpine.net/" />












        
<meta itemprop="name" content="IEvangelist">
<meta itemprop="description" content="Powered by &lt;a href=&#39;http://gohugo.io/&#39;&gt;Hugo&lt;/a&gt;">


        

        

        
        
            
        

        
        

        
            
                
                    <link rel="stylesheet" href="/css/main.min.css" />
                
            
        

        
        
        
            
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-78203613-1', 'auto');
ga('send', 'pageview');
</script>

        
    </head>
    <body>

        
        <div id="wrapper">

    
    
<header id="header">
    
        <h1><a href="/">IEvangelist</i></a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/blog/">
                        
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/categories/">
                        
                            <i class="fa fa-list-ol">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/about/">
                        
                            <i class="fa fa-smile-o">&nbsp;</i>About
                    </a>
                </li>
            
                <li>
                    <a href="/speaking/">
                        
                            <i class="fa fa-bullhorn">&nbsp;</i>Speaking
                    </a>
                </li>
            
                <li>
                    <a href="/media/">
                        
                            <i class="fa fa-video-camera">&nbsp;</i>Media
                    </a>
                </li>
            
                <li>
                    <a href="/conclusions/">
                        
                            <i class="fa fa-lightbulb-o">&nbsp;</i>Conclusions
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="q" value="site:http://davidpine.net">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:http://davidpine.net">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/blog/">
                            <h3>
                                
                                    <i class="fa fa-newspaper-o">&nbsp;</i>
                                
                                Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories/">
                            <h3>
                                
                                    <i class="fa fa-list-ol">&nbsp;</i>
                                
                                Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about/">
                            <h3>
                                
                                    <i class="fa fa-smile-o">&nbsp;</i>
                                
                                About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/speaking/">
                            <h3>
                                
                                    <i class="fa fa-bullhorn">&nbsp;</i>
                                
                                Speaking
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/media/">
                            <h3>
                                
                                    <i class="fa fa-video-camera">&nbsp;</i>
                                
                                Media
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/conclusions/">
                            <h3>
                                
                                    <i class="fa fa-lightbulb-o">&nbsp;</i>
                                
                                Conclusions
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="http://davidpine.net/blog/asp-net-core-security-unit-testing/"><p>ASP.NET Core Unit Testing For Security Attributes</p></a>
                    </li>
                
                    <li>
                        <a href="http://davidpine.net/blog/asp-net-core-configuration/"><p>ASP.NET Core Configuration Tips</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    
    <div id="main">
        
            <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="http://davidpine.net/blog/asp-net-core-security-unit-testing/">ASP.NET Core Unit Testing For Security Attributes</a></h2>
        
        
            <p>Authorization Attribute Safety Net</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2018-03-23'>
            March 23, 2018</time>
        <span class="author">David Pine</span>
        
            <p>7 minute read</p>
        
        
    </div>
</header>


    <section id="social-share">
        <ul class="icons">
            


<li><a href="//twitter.com/share?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f&text=ASP.NET%20Core%20Unit%20Testing%20For%20Security%20Attributes&via=davidpine7" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f&title=ASP.NET%20Core%20Unit%20Testing%20For%20Security%20Attributes" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f&title=ASP.NET%20Core%20Unit%20Testing%20For%20Security%20Attributes" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f&title=ASP.NET%20Core%20Unit%20Testing%20For%20Security%20Attributes" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by David%20Pine&body=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
    
    

    
        
        




    
    
        
    


        

        <a href="http://davidpine.net/blog/asp-net-core-security-unit-testing/" class="image featured">
            <img src="/img/2018/03/security.jpg" alt="" />
        </a>
    


    <div id="content">
        

<h1 id="intro:62ff3a2cc4e15c531086d495140b895f">Intro</h1>

<p>As a developer, I can say that developers are lazy - at least I know and acknowledge that I am. If I&rsquo;m tasked with something even the slightest bit repetitious I&rsquo;ll script it out, or find a way to automate it. Likewise, if I fall into a habit of forgetting something important - I&rsquo;ll figure out a way to <em>not forget</em>. Especially when it comes to securing an application.</p>

<h2 id="security-soapbox:62ff3a2cc4e15c531086d495140b895f">Security Soapbox</h2>

<p>We should take application security very seriously! With <strong>ASP.NET Core</strong> there&rsquo;s a lot of <a href="https://docs.microsoft.com/en-us/aspnet/core/security/" target="_blank">existing documentation</a> for securing your application. This covers identity, authentication, authorization, data protection, HTTPS, safe storage, Azure key vault, anti-request forgery, open redirect attack, cross-site scripting, etc&hellip; the list goes on and on. All these things are important and as a developer you&rsquo;re ultimately accountable for writing secure code.</p>

<h2 id="the-dilemma:62ff3a2cc4e15c531086d495140b895f">The Dilemma</h2>

<p>A while back I spent a fair amount of time writing some <strong>ASP.NET Core Web API</strong> endpoints and I kept forgetting to provide the <code>AuthorizeAttribute</code> on various controller classes or even controller actions.</p>

<p>There is an easy way to solve this. Within <code>ConfigureServices</code> we could apply an <code>AuthorizeFilter</code> with a policy that requires an authenticated user. This serves as a nice security blanket, that ensures all endpoints are only accessible from an authenticated user.</p>

<pre><code class="language-csharp">public void ConfigureServices(IServicesCollection services)
{
    services.AddMvc(
        options =&gt;
        {
            // Only allow authenticated users.
            var defaultPolicy =
                new AuthorizationPolicyBuilder()
                    .RequireAuthenticatedUser()
                    .Build();

            options.Filters.Add(new AuthorizeFilter(defaultPolicy));    
        });
}
</code></pre>

<p>However, based on your needs - you may choose to not apply this filter. If you choose to not apply this filter you&rsquo;re left with three options.</p>

<ol>
<li>Apply an <code>AuthorizeAttribute</code> at the controller class level (cascades onto all the actions)</li>
<li>Apply an <code>AuthorizeAttribute</code> on each individual action method <i class="fa fa-meh-o"></i></li>
<li>Not protect your API at all <i class="fa fa-frown-o"></i></li>
</ol>

<h2 id="automation-to-the-rescue:62ff3a2cc4e15c531086d495140b895f">Automation To The Rescue</h2>

<p>Some of our <strong>ASP.NET Core Web APIs</strong> were protected by the filter, some by controller class level <code>AuthorizeAttribute</code> decoration and others by the individual action&hellip; and some not at all. This is a problem! It is common practice to run unit tests prior to pushing code into a feature branch for a pull request. If I forget to do that, my build system has some pull request pre-checks in place - one of which is to run the unit tests. As such, I know that unit tests will be executed. With this, I decided to write a unit test that leveraged a bit of reflection. Since it is a unit test, I&rsquo;m not terribly concerned with performance - so reflection is fine&hellip;</p>

<p>Here was the thought process to write a unit test that could ensure that I&rsquo;m not forgetful.</p>

<ul>
<li>Load all assemblies into the current <code>AppDomain</code></li>
<li>Of all the loaded assemblies, get all the controller types

<ul>
<li>Of those controller types, get the ones that are missing the <code>AuthorizeAttribute</code></li>
<li>Of the unauthorized controller types, get the <code>HttpMethodAttribute</code> methods</li>
<li>If missing both the <code>AuthorizeAttribute</code> and <code>AllowAnonymousAttribute</code> - <strong>fail</strong> <i class="fa fa-frown-o"></i></li>
</ul></li>
</ul>

<h3 id="codify:62ff3a2cc4e15c531086d495140b895f">Codify</h3>

<p>So, our step one is to load all assemblies into the current <code>AppDomain</code>. This makes some assumptions. It assumes that our test project will have a reference to the <strong>ASP.NET Core Web API</strong> project, so that its <code>.dll</code> will be available to us for loading (in our <code>bin</code> directory). We will also assume the root namespace we&rsquo;re looking for, we should know this anyway as we follow naming conventions and we&rsquo;re the owner of the corresponding project.</p>

<pre><code class="language-csharp">public class ActionTests
{
    const string RootNamespace = nameof(IEvangelist);
    static readonly string[] ExecutableExtensions = { &quot;.exe&quot;, &quot;.dll&quot; };

    public ActionTests()
        =&gt; Directory.EnumerateFiles(
                Path.GetDirectoryName(
                        Assembly.GetExecutingAssembly().Location) ?? string.Empty,
                        $&quot;{RootNamespace}.*&quot;)
                     .Where(IsExeOrDll)
                     .Select(Assembly.LoadFrom)
                     .Select(assembly =&gt; 
                        TryCatchIgnore(
                            () =&gt; AppDomain.CurrentDomain.Load(assembly.GetName())))
                     .ToList();

    static bool IsExeOrDll(string path)
        =&gt; ExecutableExtensions.Any(
            extension =&gt; 
                extension.Equals(
                    Path.GetExtension(path), 
                    StringComparison.OrdinalIgnoreCase));

    static T TryCatchIgnore&lt;T&gt;(Func&lt;T&gt; func) {
        try { return func(); }
        catch { return default; }
    }
</code></pre>

<p>Step two, is really the entry point of our core functionality for the test itself. We&rsquo;ll need a <code>Fact</code> test method. Yes, <a href="/blog/xunit-powered-by-roslyn" target="_blank">I&rsquo;m a HUGE fan of <strong>xUnit</strong></a> - they have done some amazing things! In this test method we will start by getting all the types that are a subclass of <code>Controller</code>.</p>

<pre><code class="language-csharp">[Fact]
public void AllActionsOrParentControllerHaveAuthorizationAttributeTest()
{
    var allControllers = GetAllControllerTypes();

    // we'll continue here ...
}

static List&lt;Type&gt; GetAllControllerTypes()
    =&gt; AppDomain.CurrentDomain
                .GetAssemblies()
                .Where(a =&gt; a.FullName.StartsWith(RootNamespace))
                .SelectMany(a =&gt; a.GetTypes()
                                  .Where(t =&gt; t.FullName.Contains(Controller)
                                           || t.BaseType == ControllerType
                                           || t.DeclaringType == ControllerType))
                .ToList();
</code></pre>

<p>Now that we have all the controller types from all the assemblies loaded into our <code>AppDomain</code>, we need to filter them. We need to find the types that are missing the <code>AuthorizeAttribute</code>, we&rsquo;ll call these <code>unauthorizedControllers</code> for now.</p>

<pre><code class="language-csharp">[Fact]
public void AllActionsOrParentControllerHaveAuthorizationAttributeTest()
{
    var allControllers = GetAllControllerTypes();
    var unauthorizedControllers = 
        GetControllerTypesThatAreMissing&lt;AuthorizeAttribute&gt;(allControllers);

    // We'll continue from here...
}

static List&lt;Type&gt; GetControllerTypesThatAreMissing&lt;TAttribute&gt;(
    IEnumerable&lt;Type&gt; types)
    where TAttribute : Attribute
    =&gt; types.Where(t =&gt; t.GetCustomAttribute&lt;TAttribute&gt;() == null)
            .ToList();
</code></pre>

<p>This method iterates through the given <code>IEnumerable&lt;Type&gt;</code> and returns a <code>List&lt;Type&gt;</code> that are not attributed with the <code>AuthorizeAttribute</code>. The reason that we&rsquo;re filtering out controller types that are attributed, is that we&rsquo;ll consider them to be protected from the standpoint of our unit-testing capabilities. Now, we need to find all the methods on these types that match the following criteria:</p>

<ol>
<li>Are a <code>public</code> instance method</li>
<li>Have any <code>HttpMethodAttribute</code> subclass</li>
</ol>

<p>These methods are the controller&rsquo;s actions. From these actions, we need to find the unauthorized actions. This is done by filtering out actions that explicitly declare themselves with the <code>AllowAnonymousAttribute</code> and are also missing the <code>AuthorizeAttribute</code>.</p>

<pre><code class="language-csharp">foreach (var controller in unauthorizedControllers)
{
    var actions =
        controller.GetMethods(BindingFlags.Public | BindingFlags.Instance)
                    .Where(m =&gt; m.GetCustomAttributes&lt;HttpMethodAttribute&gt;().Any())
                    .ToList();

    var unauthorizedActions = 
        actions.Where(
            action =&gt; 
                action.GetCustomAttribute&lt;AuthorizeAttribute&gt;() == null &amp;&amp;
                action.GetCustomAttribute&lt;AllowAnonymousAttribute&gt;() == null)
               .ToList();
    
    // If unauthorizedActions.Any() is true, sound the alarms!
}
</code></pre>

<p>We can add a few additional sanity checks along the way - with the caveat that this is not your typical &ldquo;unit test&rdquo;. For example we could add the following:</p>

<ul>
<li>Assert that we do in fact load assemblies</li>
<li>Assert that count of all the controllers is greater than the unauthorized controllers</li>
<li>Assert that we find our &ldquo;white-listed&rdquo; controller</li>
</ul>

<h3 id="putting-it-all-together:62ff3a2cc4e15c531086d495140b895f">Putting It All Together</h3>

<pre><code class="language-csharp">using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.Routing;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Reflection;
using Xunit;

namespace IEvangelist.Tests
{
    public class ActionTests
    {
        const string RootNamespace = nameof(_Evangelist);
        const string Controller = nameof(Controller);
        const string WhiteListed = nameof(UnauthorizedActionInController.GetZero);

        static readonly Type ControllerType = typeof(Controller);
        static readonly string[] ExecutableExtensions = { &quot;.exe&quot;, &quot;.dll&quot; };

        public ActionTests()
            =&gt; LoadAllAssemblies();

        void LoadAllAssemblies()
        {
            var assemblies =
                Directory.EnumerateFiles(
                    Path.GetDirectoryName(
                            Assembly.GetExecutingAssembly().Location) ?? string.Empty,
                            $&quot;{RootNamespace}.*&quot;)
                        .Where(IsExeOrDll)
                        .Select(Assembly.LoadFrom)
                        .Select(assembly =&gt; 
                            TryCatchIgnore(
                                () =&gt; AppDomain.CurrentDomain.Load(assembly.GetName())))
                        .ToList();

            Assert.False(assemblies.IsNullOrEmpty());        
        }

        [Fact]
        public void AllActionsOrParentControllerHaveAuthorizationAttributeTest()
        {
            var allControllers = GetAllControllerTypes();
            var unauthorizedControllers = 
                GetControllerTypesThatAreMissing&lt;AuthorizeAttribute&gt;(allControllers);
            
            Assert.True(allControllers.Count &gt; unauthorizedControllers.Count);
            
            foreach (var controller in unauthorizedControllers)
            {
                var actions =
                    controller.GetMethods(BindingFlags.Public | BindingFlags.Instance)
                              .Where(m =&gt; m.GetCustomAttributes&lt;HttpMethodAttribute&gt;().Any())
                              .ToList();

                var unauthorizedActions = 
                    actions.Where(
                        action =&gt; 
                            action.GetCustomAttribute&lt;AuthorizeAttribute&gt;() == null &amp;&amp;
                            action.GetCustomAttribute&lt;AllowAnonymousAttribute&gt;() == null)
                           .ToList();

                if (unauthorizedActions.IsNullOrEmpty() ||
                   (unauthorizedActions.Count == 1 &amp;&amp; 
                    unauthorizedActions[0].Name == WhiteListed))
                {
                    continue;
                }

                unauthorizedActions.ForEach(
                    action =&gt; Console.WriteLine($&quot;{action} is unauthorized!&quot;));

                Assert.True(false, $&quot;Unauthorized action(s) found!&quot;);
            }
        }

        static List&lt;Type&gt; GetAllControllerTypes()
            =&gt; AppDomain.CurrentDomain
                        .GetAssemblies()
                        .Where(a =&gt; a.FullName.StartsWith(RootNamespace))
                        .SelectMany(a =&gt; a.GetTypes()
                                          .Where(t =&gt; t.FullName.Contains(Controller) ||
                                                      t.BaseType == ControllerType ||
                                                      t.DeclaringType == ControllerType))
                        .ToList();

        static List&lt;Type&gt; GetControllerTypesThatAreMissing&lt;TAttribute&gt;(
            IEnumerable&lt;Type&gt; types)
            where TAttribute : Attribute
            =&gt; types.Where(t =&gt; t.GetCustomAttribute&lt;TAttribute&gt;() == null)
                    .ToList();

        static bool IsExeOrDll(string path)
            =&gt; ExecutableExtensions.Any(
                extension =&gt; 
                    extension.Equals(
                        Path.GetExtension(path), 
                        StringComparison.OrdinalIgnoreCase));

        static T TryCatchIgnore&lt;T&gt;(Func&lt;T&gt; func) {
            try { return func(); }
            catch { return default; }
        }
    }

    public class UnauthorizedTestController 
        : Controller
    {
    }

    public class UnauthorizedActionInController 
        : Controller
    {
        [HttpGet]
        public int GetZero() =&gt; 0;

        [Authorize, HttpPost]
        public IActionResult Post([FromBody] int number) =&gt; Ok();

        [OverrideAge, HttpDelete]
        public IActionResult Delete() =&gt; Ok();
    }
    
    public class OverrideAge : Authorize {  }
}
</code></pre>

<h2 id="conclusion:62ff3a2cc4e15c531086d495140b895f">Conclusion</h2>

<p>This solution is not perfect, it has a lot of opportunity for improvement. I&rsquo;m open to suggestions&hellip; If you have an idea, drop it in the comments and feel free to share your source. Likewise, if you like this idea - let me know. I was hoping to eventually find a way to turn this into a <strong>C# Roslyn-Powered Analyzer</strong> but I&rsquo;m not sure that is possible. There is one fact that remains, this has actually proven itself useful - there have been several times where this test failed as a result of someone (myself included) forgot to apply the appropriate security attributes to an <strong>ASP.NET Core Web API</strong> endpoint we were writing. I hope that this can help you too!</p>

    </div>

    <footer>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-list-ol">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/asp.net-core'>ASP.NET Core</a></li>
    
        <li><a href='/categories/xunit'>xUnit</a></li>
    
        <li><a href='/categories/csharp'>CSharp</a></li>
    
</ul>

    </footer>
</article>
<ul class="actions pagination">
    
        <li><a href="http://davidpine.net/blog/asp-net-core-configuration/"
                class="button big previous">ASP.NET Core Configuration Tips</a></li>
    

    
</ul>



    
        <article class="post">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'davidpine';
    var disqus_identifier = 'http:\/\/davidpine.net\/blog\/asp-net-core-security-unit-testing\/';
    var disqus_title = 'ASP.NET Core Unit Testing For Security Attributes';
    var disqus_url = 'http:\/\/davidpine.net\/blog\/asp-net-core-security-unit-testing\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>
    



            <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li><a href="//twitter.com/share?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f&text=ASP.NET%20Core%20Unit%20Testing%20For%20Security%20Attributes&via=davidpine7" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f&title=ASP.NET%20Core%20Unit%20Testing%20For%20Security%20Attributes" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f&title=ASP.NET%20Core%20Unit%20Testing%20For%20Security%20Attributes" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f&title=ASP.NET%20Core%20Unit%20Testing%20For%20Security%20Attributes" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by David%20Pine&body=http%3a%2f%2fdavidpine.net%2fblog%2fasp-net-core-security-unit-testing%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
</section>

        
    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <img src="/img/main/David_Pine_thumb.png" class="intro-circle" width="" alt="David Pine" />
                
            
            
                <header>
                    <h2>David Pine</h2>
                    <p>Technical Evangelist, with a goal of changing the world - one line of code at a time <i class='fa fa-code' aria-hidden='true'></i></p>
                </header>
            

            <a target="_blank" rel="noopener" 
               href="https://mvp.microsoft.com/en-us/publicprofile/5002736">
                <img src="/img/main/mvp.png" width="250px" />
            </a>

            <hr/>

            <ul class="icons">
                
                    <li><a href="http://davidpine.net/index.xml" type="application/rss+xml"
                        target="_blank" title="RSS" class="fa-lg fa-rss"></a></li>
                
                
                    
<li><a href="//github.com/IEvangelist" target="_blank" title="GitHub" class="fa-lg fa-github"></a></li>



<li><a href="//papercall.io/speakers/david-pine" target="_blank" title="PaperCall" class="fa-lg fa-paper-plane-o"></a></li>





















<li><a href="//youtube.com/user/davidpine7" target="_blank" title="YouTube" class="fa-lg fa-youtube"></a></li>







<li><a href="//medium.com/@davidpine7" target="_blank" title="Medium" class="fa-lg fa-medium"></a></li>



<li><a href="//ievangelistblog.wordpress.com" target="_blank" title="WordPress" class="fa-lg fa-wordpress"></a></li>







<li><a href="//linkedin.com/in/dpine" target="_blank" title="LinkedIn" class="fa-lg fa-linkedin"></a></li>





<li><a href="//stackoverflow.com/users/2410379/david-pine" target="_blank" title="Stack Overflow" class="fa-lg fa-stack-overflow"></a></li>



<li><a href="//reddit.com/user/davidpine7" target="_blank" title="Reddit" class="fa-lg fa-reddit"></a></li>





<li><a href="//plus.google.com/105029959237988991073" target="_blank" title="Google+" class="fa-lg fa-google-plus"></a></li>





<li><a href="//twitter.com/davidpine7" target="_blank" title="Twitter" class="fa-lg fa-twitter"></a></li>



<li><a href="mailto:david.pine.7@gmail.com" title="Email" class="fa-lg fa-envelope"></a></li>


                
            </ul>
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <h3><a href="http://davidpine.net/blog/asp-net-core-security-unit-testing/">ASP.NET Core Unit Testing For Security Attributes</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2018-03-23'>
                                    March 23, 2018</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="http://davidpine.net/blog/asp-net-core-configuration/">ASP.NET Core Configuration Tips</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2018-03-10'>
                                    March 10, 2018</time>
                            </header>
                        </article>
                    </li>
                

                
                    <li>
                        <ul class="actions">
                            <li><a href=
                            
                                /blog/
                            
                            class="button">View more posts</a></li>
                        </ul>
                    </li>
                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><a href="/categories/">Categories</a></h3>
                </header>

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/asp.net-core/">ASP.NET Core</a>
                                <span style="float:right;">7</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/.net-core/">.NET Core</a>
                                <span style="float:right;">6</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/csharp/">CSharp</a>
                                <span style="float:right;">6</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/visual-studio/">Visual Studio</a>
                                <span style="float:right;">4</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/.net/">.NET</a>
                                <span style="float:right;">4</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/xunit/">xUnit</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/typescript/">TypeScript</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/dependency-injection/">Dependency Injection</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/fear/">Fear</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/angular2/">Angular2</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/iot/">IoT</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/caching/">Caching</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/mke-dot-net/">MKE DOT NET</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/uwp/">UWP</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/technical-doubt/">Technical Doubt</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/technical-conference/">Technical Conference</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/gzip/">GZip</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/self-branding/">Self-Branding</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/rxjs/">RxJS</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/tooling/">Tooling</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/configuration/">Configuration</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/identity/">Identity</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/.net-standard/">.NET Standard</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/json/">JSON</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/javascript/">JavaScript</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/http/">Http</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/raspberry-pi/">Raspberry Pi</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/roslyn/">Roslyn</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/compression/">Compression</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
            </ul>
        </section>
    

    
        

    
        <section id="footer">
            <ul class="icons">
                
                    <li><a href="http://davidpine.net/index.xml" type="application/rss+xml"
                        target="_blank" title="RSS" class="fa fa-rss"></a></li>
                
                
                    
<li><a href="//github.com/IEvangelist" target="_blank" title="GitHub" class="fa-lg fa-github"></a></li>



<li><a href="//papercall.io/speakers/david-pine" target="_blank" title="PaperCall" class="fa-lg fa-paper-plane-o"></a></li>





















<li><a href="//youtube.com/user/davidpine7" target="_blank" title="YouTube" class="fa-lg fa-youtube"></a></li>







<li><a href="//medium.com/@davidpine7" target="_blank" title="Medium" class="fa-lg fa-medium"></a></li>



<li><a href="//ievangelistblog.wordpress.com" target="_blank" title="WordPress" class="fa-lg fa-wordpress"></a></li>







<li><a href="//linkedin.com/in/dpine" target="_blank" title="LinkedIn" class="fa-lg fa-linkedin"></a></li>





<li><a href="//stackoverflow.com/users/2410379/david-pine" target="_blank" title="Stack Overflow" class="fa-lg fa-stack-overflow"></a></li>



<li><a href="//reddit.com/user/davidpine7" target="_blank" title="Reddit" class="fa-lg fa-reddit"></a></li>





<li><a href="//plus.google.com/105029959237988991073" target="_blank" title="Google+" class="fa-lg fa-google-plus"></a></li>





<li><a href="//twitter.com/davidpine7" target="_blank" title="Twitter" class="fa-lg fa-twitter"></a></li>



<li><a href="mailto:david.pine.7@gmail.com" title="Email" class="fa-lg fa-envelope"></a></li>


                
            </ul>

            <p class="copyright">&copy; IEvangelist 2016. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            
        

        
        

        
            
                
                    <script src="/js/main.min.js"></script>
                
            
        

            
            <script>hljs.initHighlightingOnLoad();</script>
            
    </body>
</html>

