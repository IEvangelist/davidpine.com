<!DOCTYPE HTML>

<html>
    <head>
        <link rel="icon" href="/img/main/favicon.png" type="image/png" />
        <link rel="shortcut icon" href="/favicon.ico" />
        
            
                <title>IEvangelist</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.42.1" />
        


        
        
            
                <meta name="description" content="Everything about the original IEvangelist, David Pine.">
            
        

        <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://davidpine.net/img/main/me.png"/>

<meta name="twitter:title" content="IEvangelist"/>
<meta name="twitter:description" content="Everything about the original IEvangelist, David Pine."/>
<meta name="twitter:site" content="@davidpine7"/>

        <meta property="og:title" content="IEvangelist" />
<meta property="og:description" content="Everything about the original IEvangelist, David Pine." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://davidpine.net/" />



<meta property="og:updated_time" content="2019-03-14T00:00:00&#43;00:00"/>










        
<meta itemprop="name" content="IEvangelist">
<meta itemprop="description" content="Everything about the original IEvangelist, David Pine.">


        

        

        
        
            
        
        
        
        
            <link rel="stylesheet" href="/css/google-font.css" />
            <link rel="stylesheet" href="/css/font-awesome.min.css" />
            <link rel="stylesheet" href="/css/main.css" />
            <link rel="stylesheet" href="/css/add-on.css" />
            <link rel="stylesheet" href="/css/tomorrow-night.css">
        

        

        
        
        
            
<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-78203613-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

        
    
        <link rel="stylesheet" href="/css/justifiedGallery.min.css">
        <link rel="stylesheet" href="/css/lightgallery.min.css">
    </head>
    <body>

        <script src="/js/jquery.min.js"></script>
        <script src="/js/jquery.justifiedGallery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/combine/npm/lightgallery,npm/lg-autoplay,npm/lg-fullscreen,npm/lg-hash,npm/lg-pager,npm/lg-share,npm/lg-thumbnail,npm/lg-video,npm/lg-zoom">
        </script>

        
        <div id="wrapper">

    
    
<header id="header">
    
        <h1><a href="https://davidpine.net">IEvangelist</i></a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/blog">
                        
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/categories">
                        
                            <i class="fa fa-list-ol">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/about">
                        
                            <i class="fa fa-smile-o">&nbsp;</i>About
                    </a>
                </li>
            
                <li>
                    <a href="/speaking">
                        
                            <i class="fa fa-bullhorn">&nbsp;</i>Speaking
                    </a>
                </li>
            
                <li>
                    <a href="/media">
                        
                            <i class="fa fa-video-camera">&nbsp;</i>Media
                    </a>
                </li>
            
                <li>
                    <a href="/pictures">
                        
                            <i class="fa fa-camera">&nbsp;</i>Pictures
                    </a>
                </li>
            
                <li>
                    <a href="/conclusions">
                        
                            <i class="fa fa-lightbulb-o">&nbsp;</i>Conclusions
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="q" value="site:https://davidpine.net">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:https://davidpine.net">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/blog">
                            <h3>
                                
                                    <i class="fa fa-newspaper-o">&nbsp;</i>
                                
                                Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            <h3>
                                
                                    <i class="fa fa-list-ol">&nbsp;</i>
                                
                                Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            <h3>
                                
                                    <i class="fa fa-smile-o">&nbsp;</i>
                                
                                About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/speaking">
                            <h3>
                                
                                    <i class="fa fa-bullhorn">&nbsp;</i>
                                
                                Speaking
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/media">
                            <h3>
                                
                                    <i class="fa fa-video-camera">&nbsp;</i>
                                
                                Media
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/pictures">
                            <h3>
                                
                                    <i class="fa fa-camera">&nbsp;</i>
                                
                                Pictures
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/conclusions">
                            <h3>
                                
                                    <i class="fa fa-lightbulb-o">&nbsp;</i>
                                
                                Conclusions
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="https://davidpine.net/blog/angular-color-game/"><p>Angular - The Color Guessing Game</p></a>
                    </li>
                
                    <li>
                        <a href="https://davidpine.net/blog/csharp-all-the-things/"><p>C# All The Things</p></a>
                    </li>
                
                    <li>
                        <a href="https://davidpine.net/blog/dmp-in-three-debounce/"><p>DMP in 3: RxJS Debounce</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    
    <div id="main">
        
            <article class="post">
    <header>
    <div class="title">
        
            <h2><a href="https://davidpine.net/blog/angular-color-game/">Angular - The Color Guessing Game</a></h2>
        
        
            <p>Hashtag... #Winning</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2019-03-14'>
            March 14, 2019</time>
        <span class="author">David Pine</span>
        
            <p>9 minute read</p>
        
        
    </div>
</header>


    <section id="social-share">
        <ul class="icons">
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f&text=Angular%20-%20The%20Color%20Guessing%20Game&via=davidpine7" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f&title=Angular%20-%20The%20Color%20Guessing%20Game" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f&title=Angular%20-%20The%20Color%20Guessing%20Game" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f&title=Angular%20-%20The%20Color%20Guessing%20Game" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by David%20Pine&body=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
    
    

    
        
        




    
    
        
    


        

        <a href="https://davidpine.net/blog/angular-color-game/" class="image featured">
            <img src="/img/2019/03/colors.jpg" alt="" />
        </a>
    


    <div id="content">
        

<h1 id="the-story-behind-the-game">The Story Behind The Game</h1>

<p>I have three sons. Lyric who is six and a half, Londyn who is four and half, and Lennyx who is two and half. As you might imagine, they seldom agree on things. For example when it&rsquo;s family move night, &ldquo;which movie we&rsquo;ll watch?&rdquo;, or &ldquo;who gets to go first?&rdquo; when playing a game. These <em>important life decisions</em> are often decided by playing the <em>color guessing game</em>. My wife or I will choose a color at random and have the boys guess a color until someone guesses the correct color. Whoever guesses correctly is the <strong>winner</strong> and they get to choose the movie or go first, etc. You get the point!</p>

<p>In this post we&rsquo;ll discuss how to create an <strong>Angular</strong> application using the CLI, Material Design and Animations. As a spoiler alert, that application is <a href='http://bit.ly/kids-color-game' target='_blank'>hosted here</a> and the source code is up on <a href='https://github.com/IEvangelist/color-game' target='_blank'><i class='fa fa-github'></i> GitHub here</a>.</p>

<h2 id="angular-cli">Angular CLI</h2>

<p>I&rsquo;ve been an <strong>Angular</strong> developer for a long time now, and I&rsquo;ll admit it took me a bit to get used to the <a href='https://cli.angular.io/' target='_blank'><strong>Angular CLI</strong></a>. But once I got over my need to hand-code all the boilerplate, I&rsquo;m never looking back! The command line interface simplifies so many aspects of <strong>Angular</strong> development by allowing the developer to focus on the application logic. The CLI handles everything from creating a new project to generating modules, components, pipes, services, classes, interfaces, enums, directives, guards, etc&hellip;<i class="fa fa-smile-o"></i> it also tests, lints and serves up your app for local debugging! Let&rsquo;s get started, shall we?!</p>

<pre><code class="language-javascript">npm install -g @angular/cli
</code></pre>

<p>This installs the CLI globally, and we&rsquo;re ready to begin. Executing the following command will generate a new project named <code>color-game</code> and navigate into the newly created project directory. It also specifies a few preferences:</p>

<ul>
<li><strong>SCSS</strong> for styling</li>
<li>Skips <code>.spec.ts</code> test files</li>
<li>Doesn&rsquo;t include routing, we won&rsquo;t need it</li>
<li>Minimal scaffolding, etc</li>
</ul>

<pre><code class="language-javascript">ng n color-game --minimal=true --S=true --routing=false --style=scss
cd color-game
</code></pre>

<p>Let&rsquo;s add some components that will help us structure the app in a meaningful way.</p>

<pre><code class="language-javascript">ng g c color-block
ng g c game-board
ng g c instructions
ng g c players
</code></pre>

<p>We&rsquo;ve successfully added a <code>color-block</code>, <code>game-board</code>, <code>instructions</code> and <code>players</code> components. There are a few relationships to call attention to. A <code>game-board</code> handles the layout of the <code>color-block</code>, <code>instructions</code> and <code>players</code>. We&rsquo;ll need to communicate between various components, as such we&rsquo;ll add some services to handle this.</p>

<pre><code class="language-javascript">ng g s services\data-storage
ng g s services\game-engine
</code></pre>

<p>If you did this correctly you&rsquo;re directory should look similar to the following:</p>

<pre><code class="language-bash">├── app
│   ├── color-block
│   │   └── **/*.scss|**/*.ts|**/*.html
│   ├── game-board
│   │   └── **/*.scss|**/*.ts|**/*.html
|   |── instructions
│   │   └── **/*.scss|**/*.ts|**/*.html
│   ├── players
│   │   └── **/*.scss|**/*.ts|**/*.html
│   └── services
│       ├── data-store.service.ts
|       └── game-engine.service.ts
| .. etc ..
</code></pre>

<h2 id="material">Material</h2>

<p>I am a fan of the material design principles and the ease of use. Let&rsquo;s add angular material to the party as well. From the same command line window, let&rsquo;s execute the following which will install angular material as a dependency.</p>

<pre><code class="language-js">npm install @angular/material
</code></pre>

<blockquote>
<p><p/> <cite><strong>ProTip</strong></cite>
If you get an notifications about vulnerabilities address them immediately!<br/>
Simply, execute <code>npm audit fix</code></p>
</blockquote>

<p><br/>
Now, open up the <code>style.scss</code> file and let&rsquo;s add an <code>import</code> statement at the top and a bit of simple CSS.</p>

<pre><code class="language-css">@import &quot;~@angular/material/prebuilt-themes/pink-bluegrey.css&quot;;

html, body {
    height: 100%;
}

body {
    margin: 0;
}
</code></pre>

<p>This will effectively set the material theme to the &ldquo;pink bluegrey&rdquo; variation, which is personally my favorite. For more details on material - check out their <a href='https://material.io/develop/web/docs/getting-started/' target='_blank'>site here</a>. Let&rsquo;s set the background color using the newly added theme classes. Copy this HTML in the the <code>index.html</code>.</p>

<pre><code class="language-html">&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;The Color Game&lt;/title&gt;
    &lt;base href=&quot;/&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;favicon.ico&quot;&gt;
    &lt;link href=&quot;https://fonts.googleapis.com/css?family=Roboto:300,400,500&quot; rel=&quot;stylesheet&quot;&gt;
    &lt;link href=&quot;https://fonts.googleapis.com/icon?family=Material+Icons&quot; rel=&quot;stylesheet&quot;&gt;
  &lt;/head&gt;
  &lt;body class='mat-app-background'&gt; &lt;!-- Apply this class to the body --&gt;
    &lt;app-root&gt;&lt;/app-root&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Later, you&rsquo;ll notice elements and classes prefixed with <code>mat-</code> this indicates that they are from angular material. Finally, we&rsquo;ll need to import the material modules - it&rsquo;s cleaner to separate this out into it&rsquo;s own module and import it into the <code>app.module.ts</code>. Let&rsquo;s generate a new module named <code>material-all</code> and keep it at the same level as our existing <code>app.module</code>.</p>

<pre><code class="language-javascript">ng g module material-all --flat
</code></pre>

<p>Now, copy this into the newly created  <code>material-all.module.ts</code>.</p>

<pre><code class="language-javascript">import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { MatCheckboxModule } from '@angular/material';
import { MatButtonModule } from '@angular/material';
import { MatRippleModule } from '@angular/material/core';
import { MatBadgeModule } from '@angular/material/badge';
import { MatInputModule } from '@angular/material/input';
import { MatAutocompleteModule } from '@angular/material/autocomplete';
import { MatDatepickerModule } from '@angular/material/datepicker';
import { MatFormFieldModule } from '@angular/material/form-field';
import { MatRadioModule } from '@angular/material/radio';
import { MatSelectModule } from '@angular/material/select';
import { MatSliderModule } from '@angular/material/slider';
import { MatSlideToggleModule } from '@angular/material/slide-toggle';
import { MatMenuModule } from '@angular/material/menu';
import { MatSidenavModule } from '@angular/material/sidenav';
import { MatToolbarModule } from '@angular/material/toolbar';
import { MatListModule } from '@angular/material/list';
import { MatGridListModule } from '@angular/material/grid-list';
import { MatCardModule } from '@angular/material/card';
import { MatStepperModule } from '@angular/material/stepper';
import { MatTabsModule } from '@angular/material/tabs';
import { MatExpansionModule } from '@angular/material/expansion';
import { MatButtonToggleModule } from '@angular/material/button-toggle';
import { MatChipsModule } from '@angular/material/chips';
import { MatIconModule } from '@angular/material/icon';
import { MatProgressSpinnerModule } from '@angular/material/progress-spinner';
import { MatProgressBarModule } from '@angular/material/progress-bar';
import { MatDialogModule } from '@angular/material/dialog';
import { MatTooltipModule } from '@angular/material/tooltip';
import { MatSnackBarModule } from '@angular/material/snack-bar';
import { MatTableModule } from '@angular/material/table';
import { MatSortModule } from '@angular/material/sort';
import { MatPaginatorModule } from '@angular/material/paginator';

@NgModule({
  declarations: [],
  imports: [
    CommonModule,
    MatCheckboxModule,
    MatCheckboxModule,
    MatBadgeModule,
    MatRippleModule,
    MatButtonModule,
    MatInputModule,
    MatAutocompleteModule,
    MatDatepickerModule,
    MatFormFieldModule,
    MatRadioModule,
    MatSelectModule,
    MatSliderModule,
    MatSlideToggleModule,
    MatMenuModule,
    MatSidenavModule,
    MatToolbarModule,
    MatListModule,
    MatGridListModule,
    MatCardModule,
    MatStepperModule,
    MatTabsModule,
    MatExpansionModule,
    MatButtonToggleModule,
    MatChipsModule,
    MatIconModule,
    MatProgressSpinnerModule,
    MatProgressBarModule,
    MatDialogModule,
    MatTooltipModule,
    MatSnackBarModule,
    MatTableModule,
    MatSortModule,
    MatPaginatorModule
  ],
  exports: [
    MatCheckboxModule,
    MatCheckboxModule,
    MatBadgeModule,
    MatRippleModule,
    MatButtonModule,
    MatInputModule,
    MatAutocompleteModule,
    MatDatepickerModule,
    MatFormFieldModule,
    MatRadioModule,
    MatSelectModule,
    MatSliderModule,
    MatSlideToggleModule,
    MatMenuModule,
    MatSidenavModule,
    MatToolbarModule,
    MatListModule,
    MatGridListModule,
    MatCardModule,
    MatStepperModule,
    MatTabsModule,
    MatExpansionModule,
    MatButtonToggleModule,
    MatChipsModule,
    MatIconModule,
    MatProgressSpinnerModule,
    MatProgressBarModule,
    MatDialogModule,
    MatTooltipModule,
    MatSnackBarModule,
    MatTableModule,
    MatSortModule,
    MatPaginatorModule
  ]
})
export class MaterialAllModule { }
</code></pre>

<p>😁 That is a lot of code, thankfully we only have to do that once. Now, in the <code>app.module.ts</code> we&rsquo;ll import this module empowering our app with all things material!</p>

<p>You will want to copy the following into the the <code>app.module.ts</code>.</p>

<pre><code class="language-javascript">import { BrowserModule } from '@angular/platform-browser';
import { NgModule } from '@angular/core';
import { FormsModule } from '@angular/forms';

import { AppComponent } from './app.component';
import { BrowserAnimationsModule } from '@angular/platform-browser/animations';
import { MaterialAllModule } from './material-all.module';
import { GameBoardComponent } from './game-board/game-board.component';
import { ColorBlockComponent } from './color-block/color-block.component';
import { InstructionsComponent } from './instructions/instructions.component';
import { PlayersComponent } from './players/players.component';

@NgModule({
  declarations: [
    AppComponent,
    GameBoardComponent,
    ColorBlockComponent,
    InstructionsComponent,
    PlayersComponent
  ],
  imports: [
    BrowserModule,
    FormsModule,
    BrowserAnimationsModule,
    MaterialAllModule
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }
</code></pre>

<h2 id="animations">Animations</h2>

<p>I love making subtle animations, they can enrich the user&rsquo;s experience&hellip;but they can also ruin it just as easily. You must approach the use of animations as you do other UX related considerations, such as accessability. Furthermore animations can be challenging to implement, luckily angular has a story for that too - check out <a href='https://angular.io/guide/animations' target='_blank'>angular animations</a>.</p>

<p>In the <code>color-block.component.ts</code> we&rsquo;re going to add some animations.</p>

<pre><code class="language-javascript">import { Component, Input } from '@angular/core';
import { GameEngineService, GameState } from '../services/game-engine.service';
import {
  trigger,
  state,
  style,
  animate,
  transition
} from '@angular/animations';

@Component({
  selector: 'color-block',
  templateUrl: './color-block.component.html',
  styleUrls: ['./color-block.component.scss'],
  animations: [
    trigger('wasClicked', [
      state('idle', style({
        transform: 'scale(1)'
      })),
      state('clicked', style({
        transform: 'scale(1.2)'
      })),
      transition('idle =&gt; clicked', [
        animate('0.4s')
      ]),
      transition('clicked =&gt; idle', [
        animate('0.1s')
      ]),
    ]),
  ],
})
export class ColorBlockComponent {
  @Input() classes: string[];
  @Input() color: string;

  get allClasses() {
    return this.isSelected
      ? this.isWinningColor
        ? [...this.classes, 'winner']
        : [...this.classes, 'selected' ]
      : this.classes;
  }

  isClicked = false;
  isSelected: boolean = false;

  private currentState: GameState;
  private isWinningColor = false;

  constructor(private readonly gameEngine: GameEngineService) {
    this.gameEngine
        .$gameStateChanged
        .subscribe((state: GameState) =&gt; {
          this.currentState = state;
          if (state === 'selectWinningColor') {
            this.isWinningColor = false;
            this.isSelected = false;
          }
        });
  }

  onClick() {
    this.isClicked = true;
    setTimeout(() =&gt; this.isClicked = false, 100);

    if (this.currentState === 'selectWinningColor') {
      this.gameEngine.setWinningColor(this.color);
      this.gameEngine.changeState('playingGame');
    } else if (this.currentState === 'playingGame') {
      this.isSelected = true;
      if (this.gameEngine.isWinningColor(this.color)) {
        this.isWinningColor = true;
        this.gameEngine.changeState('gameEnded');
      } else {
        this.gameEngine.changeState('playingGame');
      }
    }
  }
}
</code></pre>

<p>We import several symbols from <code>@angular/animations</code> and now we&rsquo;re ready to decorate our component. As part of the <code>@Script</code> decorations, we&rsquo;ll add the desired animations. We <code>trigger</code> animation on various changes of <code>state</code>. Then we apply <code>style</code> and <code>transition</code> from one <code>state</code> to another. The syntax is actually rather straightforward to read. Here is the corresponding markup.</p>

<pre><code class="language-html">&lt;div [ngClass]='allClasses' (click)=onClick() [@wasClicked]=&quot;isClicked ? 'clicked' : 'idle'&quot;&gt;
  &lt;mat-card class='color-card'&gt;
    &lt;mat-card-header&gt;
      &lt;mat-card-title&gt;{{ color | titlecase }}&lt;/mat-card-title&gt;
    &lt;/mat-card-header&gt;
    &lt;mat-card-content&gt;
      &lt;div *ngIf='isSelected'&gt;
        &lt;mat-icon color='accent' [inline]='true'&gt;check_box&lt;/mat-icon&gt;
      &lt;/div&gt;
      &lt;div *ngIf='!isSelected'&gt;
        &lt;mat-icon color='accent' [inline]='true'&gt;check_box_outline_blank&lt;/mat-icon&gt;
      &lt;/div&gt;
    &lt;/mat-card-content&gt;
  &lt;/mat-card&gt;
&lt;/div&gt;
</code></pre>

<h2 id="putting-it-all-together">Putting It All Together</h2>

<p>The <code>game-board.component</code> serves as the glue holding all the other sub components together. It relies on the various services for managing the state of the game through the <code>game-engine.service</code>.</p>

<pre><code class="language-javascript">import { Injectable } from '@angular/core';
import { ReplaySubject, Observable } from 'rxjs';

export type GameState
  = 'usersRequired' | 'selectWinningColor' | 'playingGame' | 'gameEnded';

export interface StateDetails {
  state: GameState;
  title: string;
  message: () =&gt; string;
}

@Injectable({
  providedIn: 'root'
})
export class GameEngineService {
  $gameStateChanged: Observable&lt;GameState&gt;;
  stateDetails = new Map&lt;GameState, StateDetails&gt;();

  private activePlayer: string;
  private stateBroadcast = new ReplaySubject&lt;GameState&gt;();
  private winningColor: string;

  constructor() {
    this.stateDetails['usersRequired'] = {
      state: 'usersRequired',
      title: 'Users Required',
      message: () =&gt; 'Add at least two players to begin...'
    };    
    this.stateDetails['selectWinningColor'] = {
      state: 'selectWinningColor',
      title: 'Select Winning Color',
      message: () =&gt; 'Have players cover their eyes, and ' + 
                     'then the &quot;referee&quot; select the winning color.'
    };
    this.stateDetails['playingGame'] = {
      state: 'playingGame',
      title: 'Game Active',
      message: () =&gt; `&quot;${this.activePlayer}&quot; please choose your color.`
    };
    this.stateDetails['gameEnded'] = {
      state: 'gameEnded',
      title: 'Game Over',
      message: () =&gt; `Congratulations... &quot;${this.activePlayer}&quot; has won the game!`
    };

    this.$gameStateChanged =
      this.stateBroadcast.asObservable();
  }

  isWinningColor(color: string) {
    return this.winningColor === color;
  }

  setWinningColor(color: string) {
    this.winningColor = color;
  }

  changeState(state: GameState) {
    this.stateBroadcast.next(state);
  }

  setActivePlayer(player: string) {
    this.activePlayer = player;
  }

  reset() {
    this.changeState('selectWinningColor');
  }
}
</code></pre>

<p>The <code>game-engine.service</code> has the possible states that the app can exhibit and each state represents a different way in the application. For example, when there are less that two players we enter the <code>'usersRequired'</code> state. This updates the <code>instructions.component</code> appropriately, and disables certain controls, etc. Likewise, when we have enough players - the instructions change to &ldquo;instruct&rdquo; the players on what to do next.</p>

<p>For more details, I encourage you to dig into the source code that is publicly available up on <a href='https://github.com/IEvangelist/color-game' target='_blank'><i class='fa fa-github'></i> GitHub here</a>. Also, the application is <a href='http://bit.ly/kids-color-game' target='_blank'>hosted here</a>. This game isn&rsquo;t styled for mobile devices, because &hellip; well that would have taken more time than I had over the weekend to do. I hope you enjoy it and that it helps solves some of the simple little decision making quarrels parents experience!</p>

    </div>

    <footer>
        <ul class="stats">
    <li>
        <i class="fa fa-list-ol">&nbsp;</i>
        Categories
    </li>
    
        
        
            
            
            <li><a class="article-category-link" href="https://davidpine.net/categories/angular">Angular</a></li>
            
            
            <li><a class="article-category-link" href="https://davidpine.net/categories/typescript">TypeScript</a></li>
            
            
            <li><a class="article-category-link" href="https://davidpine.net/categories/rxjs">RxJS</a></li>
            
        
    
</ul>
    </footer>
</article>
<ul class="actions pagination">
    
        <li><a href="https://davidpine.net/blog/csharp-all-the-things/"
                class="button big previous">C# All The Things</a></li>
    

    
</ul>



    
        <article class="post">
            <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "davidpine" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>
    



            <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f&text=Angular%20-%20The%20Color%20Guessing%20Game&via=davidpine7" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f&title=Angular%20-%20The%20Color%20Guessing%20Game" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f&title=Angular%20-%20The%20Color%20Guessing%20Game" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f&title=Angular%20-%20The%20Color%20Guessing%20Game" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by David%20Pine&body=https%3a%2f%2fdavidpine.net%2fblog%2fangular-color-game%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
</section>

        
    </div>
    
<section id="sidebar">

    
    <section id="intro">
        
        
        
        <img src="/img/main/me.png" class="intro-circle" width="" alt="David Pine" />
        
        
        
        <header>
            <h2>David Pine</h2>
            <p>Technical Evangelist, with a goal of changing the world - one line of code at a time <i class='fa fa-code' aria-hidden='true'></i></p>
        </header>
        

        <div class='row'>
            <div class='column'>
                <a target="_blank" rel="noopener" href="https://mvp.microsoft.com/en-us/publicprofile/5002736">
                    <img src="/img/main/mvp-v.png" width="160px" />
                </a>
            </div>
            <div class='column'>
                <a target="_blank" rel="noopener" href="https://developers.google.com/experts/people/david-pine">
                    <img src="/img/main/gde.png" width="210px" />
                </a>
            </div>
        </div>

        <hr />

        <ul class="icons">
            
            <li><a href="https://davidpine.net/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa-lg fa-rss"></a></li>
            
            
            
<li><a href="//github.com/IEvangelist" target="_blank" title="GitHub" class="fa-lg fa-github"></a></li>



<li><a href="//papercall.io/speakers/david-pine" target="_blank" title="PaperCall" class="fa-lg fa-paper-plane-o"></a></li>







<li><a href="//codepen.io/ievangelist" target="_blank" title="CodePen" class="fa-lg fa-codepen"></a></li>















<li><a href="//youtube.com/user/davidpine7" target="_blank" title="YouTube" class="fa-lg fa-youtube"></a></li>







<li><a href="//medium.com/@davidpine7" target="_blank" title="Medium" class="fa-lg fa-medium"></a></li>



<li><a href="//ievangelistblog.wordpress.com" target="_blank" title="WordPress" class="fa-lg fa-wordpress"></a></li>







<li><a href="//linkedin.com/in/dpine" target="_blank" title="LinkedIn" class="fa-lg fa-linkedin"></a></li>





<li><a href="//stackoverflow.com/users/2410379/david-pine" target="_blank" title="Stack Overflow" class="fa-lg fa-stack-overflow"></a></li>



<li><a href="//reddit.com/user/davidpine7" target="_blank" title="Reddit" class="fa-lg fa-reddit"></a></li>









<li><a href="//twitter.com/davidpine7" target="_blank" title="Twitter" class="fa-lg fa-twitter"></a></li>



<li><a href="mailto:david.pine.7@gmail.com" title="Email" class="fa-lg fa-envelope"></a></li>


            
        </ul>
    </section>

    
    <section id="recent-posts">
        <ul class="posts">
            <header>
                <h3>Recent Posts</h3>
            </header>
            
            
            

            
            
            

            
            <li>
                <article>
                    <header>
                        <h3><a href="https://davidpine.net/blog/angular-color-game/">Angular - The Color Guessing Game</a></h3>
                        
                        
                        
                        <time class="published" datetime='2019-03-14'>
                            March 14, 2019</time>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <h3><a href="https://davidpine.net/blog/csharp-all-the-things/">C# All The Things</a></h3>
                        
                        
                        
                        <time class="published" datetime='2018-12-16'>
                            December 16, 2018</time>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <h3><a href="https://davidpine.net/blog/dmp-in-three-debounce/">DMP in 3: RxJS Debounce</a></h3>
                        
                        
                        
                        <time class="published" datetime='2018-11-11'>
                            November 11, 2018</time>
                    </header>
                </article>
            </li>
            

            
            <li>
                <ul class="actions">
                    <li><a href= /blog/  class="button">View
                            more posts</a></li>
                </ul>
            </li>
            
        </ul>
    </section>

    
    
    
    
    <section id="categories">
        <ul class="posts">
            <header>
                <h3><a href="/categories/">Categories</a></h3>
            </header>

            
            
            

            
            <li>
                <article>
                    <header>
                        <a href="/categories/csharp/">CSharp</a>
                        <span style="float:right;">10</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/asp.net-core/">ASP.NET Core</a>
                        <span style="float:right;">9</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/.net-core/">.NET Core</a>
                        <span style="float:right;">7</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/angular/">Angular</a>
                        <span style="float:right;">5</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/typescript/">TypeScript</a>
                        <span style="float:right;">5</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/.net/">.NET</a>
                        <span style="float:right;">4</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/rxjs/">RxJS</a>
                        <span style="float:right;">4</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/visual-studio/">Visual Studio</a>
                        <span style="float:right;">4</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/http/">Http</a>
                        <span style="float:right;">2</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/technical-conference/">Technical Conference</a>
                        <span style="float:right;">2</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/tooling/">Tooling</a>
                        <span style="float:right;">2</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/wasm/">WASM</a>
                        <span style="float:right;">2</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/webassembly/">WebAssembly</a>
                        <span style="float:right;">2</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/xunit/">xUnit</a>
                        <span style="float:right;">2</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/.net-standard/">.NET Standard</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/azure/">Azure</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/blazor/">Blazor</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/caching/">Caching</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/compression/">Compression</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/configuration/">Configuration</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/dependency-injection/">Dependency Injection</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/fear/">Fear</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/gzip/">GZip</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/identity/">Identity</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/iot/">IoT</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/json/">JSON</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/javascript/">JavaScript</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/mke-dot-net/">MKE DOT NET</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/raspberry-pi/">Raspberry Pi</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/roslyn/">Roslyn</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/self-branding/">Self-Branding</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/technical-doubt/">Technical Doubt</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/twilio/">Twilio</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/uwp/">UWP</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
            <li>
                <article>
                    <header>
                        <a href="/categories/web/">Web</a>
                        <span style="float:right;">1</span>
                    </header>
                </article>
            </li>
            
        </ul>
    </section>
    

    
    

    
    <section id="footer">
        <ul class="icons">
            
            <li><a href="https://davidpine.net/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>
            
            
            
<li><a href="//github.com/IEvangelist" target="_blank" title="GitHub" class="fa-lg fa-github"></a></li>



<li><a href="//papercall.io/speakers/david-pine" target="_blank" title="PaperCall" class="fa-lg fa-paper-plane-o"></a></li>







<li><a href="//codepen.io/ievangelist" target="_blank" title="CodePen" class="fa-lg fa-codepen"></a></li>















<li><a href="//youtube.com/user/davidpine7" target="_blank" title="YouTube" class="fa-lg fa-youtube"></a></li>







<li><a href="//medium.com/@davidpine7" target="_blank" title="Medium" class="fa-lg fa-medium"></a></li>



<li><a href="//ievangelistblog.wordpress.com" target="_blank" title="WordPress" class="fa-lg fa-wordpress"></a></li>







<li><a href="//linkedin.com/in/dpine" target="_blank" title="LinkedIn" class="fa-lg fa-linkedin"></a></li>





<li><a href="//stackoverflow.com/users/2410379/david-pine" target="_blank" title="Stack Overflow" class="fa-lg fa-stack-overflow"></a></li>



<li><a href="//reddit.com/user/davidpine7" target="_blank" title="Reddit" class="fa-lg fa-reddit"></a></li>









<li><a href="//twitter.com/davidpine7" target="_blank" title="Twitter" class="fa-lg fa-twitter"></a></li>



<li><a href="mailto:david.pine.7@gmail.com" title="Email" class="fa-lg fa-envelope"></a></li>


            
        </ul>

        <p class="copyright">&copy; IEvangelist 2016. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
    </section>

</section>
            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            
        

        
        
            <script src="/js/skel.min.js"></script>
            <script src="/js/util.js"></script>
            <script src="/js/main.js"></script>
            <script src="/js/backToTop.js"></script>
            <script src="/js/highlight.pack.js"></script>
        

        

            
            <script>hljs.initHighlightingOnLoad();</script>
            
    </body>
</html>

